%%
%% This is file `se2fonts.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% se2thesis.dtx  (with options: `init')
%% se2fonts.dtx  (with options: `package')
%% Copyright (C) 2022--2024 by Stephan Lukasczyk <stephan@dante.de>
%% 
%% It may be distributed and/or modified under the conditions of
%% the LaTeX Project Public License (LPPL), either version 1.3c of
%% this license or (at your option) any later version.  The latest
%% version of this license is in the file:
%% 
%%    https://www.latex-project.org/lppl.txt
%% 
%% This work is "maintained" (as per LPPL maintenance status by
%%   Stephan Lukasczyk.
%% 
%% This work consists of the files se2thesis.dtx,
%%                                 se2thesis.ins,
%%                                 se2colors.dtx,
%%                                 se2fonts.dtx,
%%                                 se2packages.dtx,
%%                                 se2thesis-master-thesis-example.tex
%%           and the derived files se2thesis.pdf,
%%                                 se2thesis.cls,
%%                                 se2translations-english.trsl,
%%                                 se2translations-german.trsl,
%%                                 se2colors.sty,
%%                                 se2fonts.sty,
%%                                 se2packages.sty,
%%                                 se2thesis-master-thesis-example.bib, and
%%                                 se2thesis-master-thesis-example.pdf
\@ifundefined{ExplLoaderFileDate}
  { \RequirePackage{expl3} }
  {}
\@ifl@t@r\ExplLoaderFileDate{2020-01-09}
  {}
  {%
    \PackageError{se2colors}{Support package expl3 too old}
    {%
      You need to update your installation of the bundles 'l3kernel' and
      'l3packages'.\MessageBreak
      Loading~se2colors~will~abort!%
    }%
    \endinput
  }%
\providecommand \IfFormatAtLeastTF { \@ifl@t@r \fmtversion }
\ProvidesExplPackage {se2fonts} {2024-10-16} {4.4.0}
  {A font-selection support package for the se2thesis bundle}
\msg_new:nnnn { seiifonts } { pdflatex-used }
  { You~ are~ using~ pdfLaTeX~ with~ the~ se2fonts~ packages.}
  {
    While~ this~ works~ some~ font~ features~ are~ not~ available,~ consider~
    using~ lualatex~ instead.
  }
\cs_new_eq:NN \pdftexengine \sys_if_engine_pdftex_p:
\cs_new_eq:NN \xetexengine \sys_if_engine_xetex_p:
\cs_new_eq:NN \luatexengine \sys_if_engine_luatex_p:
\NewExpandableDocumentCommand \ifengineTF { mmm }
  {
    \bool_if:nTF { #1 } { #2 } { #3 }
  }
\NewExpandableDocumentCommand \ifengineT { mm }
  {
    \bool_if:nT { #1 } { #2 }
  }
\NewExpandableDocumentCommand \ifengineF { mm }
  {
    \bool_if:nF { #1 } { #2 }
  }
\ifengineT { \xetexengine }
  {
    \msg_new:nnnn { seiifonts } { xetex-not-supported }
      { XeTeX~ is~ not~ supported~ by~ the~ se2fonts~ package. }
      { Switch~ to~ pdfTeX~ or~ (preferably)~ LuaTeX. }
    \msg_error:nn { seiifonts } { xetex-not-supported }
  }
\RequirePackage{mismath}
\ifengineTF { \luatexengine }
  {
    \RequirePackage{fontspec}
    \PassOptionsToPackage{math-style=ISO,bold-style=ISO}{unicode-math}
    \RequirePackage{unicode-math}
    \defaultfontfeatures{ Scale = MatchLowercase }
    \defaultfontfeatures[\rmfamily]{ Scale = 1 }
    \PassOptionsToPackage{mono=false}{libertinus-otf}
    \RequirePackage{libertinus-otf}
    \RequirePackage{inconsolata-nerd-font}
  } {
    \msg_warning:nn { seiifonts } { pdflatex-used }
    \PassOptionsToPackage{T1}{fontenc}
    \PassOptionsToPackage{scaled=0.9,varl}{inconsolata}
    \PassOptionsToPackage{mono=false}{libertinus-type1}
    \RequirePackage{fontenc}
    \RequirePackage{inconsolata}
    \RequirePackage{libertinus-type1}
  }
