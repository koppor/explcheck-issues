%%
%% This is file `whats-layout-module.code.tex',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% whatsnote.dtx  (with options: `layout')
%% -----------------------------------------------------------------------
%%   Copyright (C) 2024-2025 by Mingyu Xia <myhsia@outlook.com>          *
%%                                                                       *
%%   This work may be distributed and/or modified under the conditions   *
%%   of the LaTeX Project Public License (LPPL), either version 1.3c of  *
%%   this license or (at your option) any later version.                 *
%%   The latest version of this license is in                            *
%%                                                                       *
%%       http://www.latex-project.org/lppl.txt                           *
%%                                                                       *
%%   and version 1.3c or later is part of all distributions of LaTeX     *
%%   version 2008 or later.                                              *
%%                                                                       *
%%   This work has the LPPL maintenance status `maintained'.             *
%%                                                                       *
%%   The Current Maintainer of this work is Mingyu Xia.                  *
%% -----------------------------------------------------------------------
\__whats_provide_module:n { layout }
\RequirePackage{anyfontsize, lmodern, microtype, manfnt, ragged2e, soul}
\RequirePackage[mono = false, osf]{libertine}
\RequirePackage[normalem]{ulem}
\RequirePackage[svgnames]{xcolor}
\RequirePackage[left  = 1.25in, vmargin = 1in, headheight = 15pt,
                right = .75in,  headsep = 15pt]{geometry}
\RequirePackage{graphicx, pgfplots}
\graphicspath{{./media/logos/} {./media/}}
\pgfplotsset{compat = newest}
\RequirePackage{booktabs, array, enumext}
\setenumext[enumext, 1]{label = (\alph*)}
\setenumext[enumext, 2]{label = \roman*.}
\RequirePackage[inline]{enumitem}
\RequirePackage{fancyhdr}
\renewcommand* \chaptermark [1]
  {
    \markboth
      {
        \normalfont \biolinumLF \scshape
        \int_compare:nNnT { \c@secnumdepth } > { \m@ne }
          { \if@mainmatter \@chapapp \ \thechapter .~\ \fi } #1
      } {}
  }
\renewcommand* \sectionmark [1]
  {
    \markright
      {
        \normalfont \sffamily
        \int_compare:nNnT { \c@secnumdepth } > { \z@ } { \thesection . \ } #1
      }
  }
\fancyhead[OR]{\sffamily \rightmark}
\fancyhead[OL]{\sffamily \thepage}
\fancyhead[EL]{\sffamily \leftmark}
\fancyhead[ER]{\sffamily \thepage}
\fancyfoot[L,C,R]{}
\pagestyle{fancy}
\renewcommand* \headrulewidth {1pt}
\renewcommand* \footrulewidth {.5pt}
\hook_gput_code:nnn { cmd / headrule / before } {.}
  { \color_select:n { black!25 } }
\renewcommand \footrule
  {
    \if@fancyplain \let \footrulewidth \plainfootrulewidth \fi
    \color_select:n { black!25 }
    \hrule \@width \headwidth \@height \footrulewidth
  }
\linespread{1.2}
\RequirePackage{titlesec, subcaption}
\titleformat \chapter [hang] {\huge \bfseries \sffamily}
  {\biolinumLF \scshape \@chapapp\ \thechapter} {1em} {}
\titlespacing* \chapter {\z@} {\z@} {30pt}
\titlespacing \paragraph {\z@} {1.5ex minus .1 ex} {1pc}
\RequirePackage{paracol}
\columnratio{.64}
\RequirePackage{framed}
\setlength \FrameSep {\z@}
\setlength \parindent {\z@}
\renewcommand \@pnumwidth {2.5em}
\renewcommand \appendix {
  \cleardoublepage
  \setcounter{chapter}{0}
  \setcounter{section}{0}
  \gdef\@chapapp{\appendixname}
  \gdef\thechapter{\@Alph\c@chapter}
  \addtocontents {toc} { \protect \makeatletter }
  \addtocontents {toc} {
    \token_to_str:N \renewcommand* \token_to_str:N \l@section
      { \token_to_str:N \@dottedtocline {1} {1.5em} {5em} }
  }
  \addtocontents {toc} { \protect \makeatother }
  \renewcommand*\familydefault {\sfdefault}
  \pagenumbering{roman}
}
\file_input_stop:
%% -----------------------------------------------------------------------
%%   This work consists of the files whatsnote.dtx,                      *
%%                                   whatsnote.ins,                      *
%%                 the derived files whatsnote.cls,                      *
%%                                   whats-*-module.code.tex,            *
%%           the documentation files whatsnote.pdf,                      *
%%                               and README.md.                          *
%% -----------------------------------------------------------------------
%%
%% End of file `whats-layout-module.code.tex'.
