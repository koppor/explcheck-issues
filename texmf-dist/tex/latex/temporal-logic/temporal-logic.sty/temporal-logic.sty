%%
%% This is file `temporal-logic.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% temporal-logic.dtx  (with options: `package')
%% Copyright (C) 2024 Dominik Schmid and Till Schallau
%% 
%% This work may be distributed and/or modified under the
%% conditions of the LaTeX Project Public License, either version 1.3c
%% of this license or (at your option) any later version.
%% The latest version of this license is in
%% http://www.latex-project.org/lppl.txt
%% and version 1.3c or later is part of all distributions of LaTeX
%% version 2005/12/01 or later.
%% 
%% This work has the LPPL maintenance status "maintained".
%% 
%% The current maintainer of this work is Dominik Schmid<dominik.schmid@tu-dortmund.de>.
%% 
%% This work consists of the files temporal-logic.dtx, temporal-logic.ins,
%% and the derived file temporal-logic.sty.

\RequirePackage{amsmath}
\RequirePackage{expl3}
\RequirePackage{xparse}
\RequirePackage{tikz}

\ProvidesExplPackage {temporal-logic} { 2024-10-17 } { v1.0 }{
  Symbols for Temporal Logics
}

\cs_new:Nn \__@@_op_sup_sub:Nnn {
      \ensuremath {
        #1
        \tl_if_empty:nF { #2 } { \c_math_superscript_token { \,#2 } }
        \tl_if_empty:nF { #3 } { \c_math_subscript_token { \,#3 } }
        \,
      }
}
\cs_generate_variant:Nn \__@@_op_sup_sub:Nnn { cnn }

\cs_new:Nn \__@@_op_sup:Nn { \__@@_op_sup_sub:Nnn { #1 } { #2 } {} }
\cs_generate_variant:Nn \__@@_op_sup:Nn { cn }

\cs_new:Nn \__@@_op_sub:Nn { \__@@_op_sup_sub:Nnn { #1 } { } { #2 } }
\cs_generate_variant:Nn \__@@_op_sub:Nn { cn }

\cs_new:Nn \__@@_op:N { \__@@_op_sup_sub:Nnn { #1 } { } { } }
\cs_generate_variant:Nn \__@@_op:N { c }

\dim_new:N \__@@_fht_dim
\cs_new:Nn \__@@_ex: { \dim_use:N \__@@_fht_dim }

\cs_new:Nn \__@@_render_op:n {
  \dim_set:Nn \__@@_fht_dim {\fontcharht\font`X}
  \tikz[execute~at~end~picture={
       \useasboundingbox (0, 0) rectangle (\__@@_ex:, \__@@_ex:);
  }]{
    \group_begin:
      \cs_set_eq:NN \EX \__@@_ex:
      #1
    \group_end:
  }
}

\DeclareMathOperator { \csymbeventually } {
  \__@@_render_op:n {
     \draw
       (.5*\EX, 0) --
       (.2*\EX, .5*\EX) --
       (.5*\EX, \EX) --
       (.8*\EX, .5*\EX) --
       cycle;
  }
}
\DeclareMathOperator { \csymbonce } {
  \__@@_render_op:n {
    \draw[fill]
    (.5*\EX, 0) --
    (.2*\EX, .5*\EX) --
    (.5*\EX, \EX) --
    (.8*\EX, .5*\EX) --
    cycle;
}
}
\DeclareMathOperator { \csymbglobally } {
  \__@@_render_op:n {
    \draw
    (.15*\EX, .15*\EX)
    rectangle
    (.85*\EX, .85*\EX);
  }
}
\DeclareMathOperator { \csymbhistorically } {
  \__@@_render_op:n {
    \draw[fill]
    (.15*\EX, .15*\EX)
    rectangle
    (.85*\EX, .85*\EX);
  }
}
\DeclareMathOperator { \csymbnext } {
  \__@@_render_op:n {
    \draw
    (.5*\EX, .5*\EX)
    circle
    (.4*\EX);
  }
}
\DeclareMathOperator { \csymbprevious } {
  \__@@_render_op:n {
    \draw[fill]
    (.5*\EX, .5*\EX)
    circle
    (.4*\EX);
  }
}
\DeclareMathOperator { \csymbuntil } {
  \ensuremath\mathcal{U}
}
\DeclareMathOperator { \csymbsince } {
  \ensuremath\mathcal{S}
}
\DeclareMathOperator { \csymbminprevalence } {
  \__@@_render_op:n {
    \draw
      (.1*\EX, .9*\EX) --
      (.9*\EX, .9*\EX) --
      (.5*\EX, .1*\EX) --
      cycle;
  }
}
\DeclareMathOperator { \csymbpastminprevalence } {
  \__@@_render_op:n {
    \draw[fill]
    (.1*\EX, .9*\EX) --
    (.9*\EX, .9*\EX) --
    (.5*\EX, .1*\EX) --
    cycle;
  }
}
\DeclareMathOperator { \csymbmaxprevalence } {
  \__@@_render_op:n {
    \draw
    (.1*\EX, .1*\EX) --
    (.9*\EX, .1*\EX) --
    (.5*\EX, .9*\EX) --
    cycle;
}
  }
\DeclareMathOperator { \csymbpastmaxprevalence } {
  \__@@_render_op:n {
    \draw[fill]
    (.1*\EX, .1*\EX) --
    (.9*\EX, .1*\EX) --
    (.5*\EX, .9*\EX) --
    cycle;
  }
}
\DeclareMathOperator { \csymbbind } {
  \__@@_render_op:n {
    \draw (.5*\EX, \EX) -- (.5*\EX, 0);
    \draw
      (.2*\EX, .3*\EX) ..
      controls (.4*\EX, .2*\EX) ..
      (.5*\EX, 0) ..
      controls (.6*\EX, .2*\EX) ..
      (.8*\EX, .3*\EX);
  }
}

\ProvideDocumentCommand { \ceventually } { O{} } {
  \__@@_op_sub:cn { csymbeventually } { #1 }
}
\ProvideDocumentCommand { \conce } { O{} } {
  \__@@_op_sub:cn { csymbonce } { #1 }
}
\ProvideDocumentCommand { \cglobally } { O{} } {
  \__@@_op_sub:cn { csymbglobally } { #1 }
}
\ProvideDocumentCommand { \chistorically } { O{} } {
  \__@@_op_sub:cn { csymbhistorically } { #1 }
}
\ProvideDocumentCommand { \cnext } { O{} } {
  \__@@_op_sub:cn { csymbnext } { #1 }
}
\ProvideDocumentCommand { \cprevious } { O{} } {
  \__@@_op_sub:cn { csymbprevious } { #1 }
}
\ProvideDocumentCommand { \cuntil } { O{} } {
  \__@@_op_sub:Nn { \;\csymbuntil } { #1 }
}
\ProvideDocumentCommand { \csince } { O{} } {
  \__@@_op_sub:Nn { \;\csymbsince } { #1 }
}
\ProvideDocumentCommand { \cminprevalence } { m O{} } {
  \__@@_op_sup_sub:cnn { csymbminprevalence } { #1 } { #2 }
}
\ProvideDocumentCommand { \cpastminprevalence } { m O{} } {
  \__@@_op_sup_sub:cnn { csymbpastminprevalence } { #1 } { #2 }
}
\ProvideDocumentCommand { \cmaxprevalence } { m O{} } {
  \__@@_op_sup_sub:cnn { csymbmaxprevalence } { #1 } { #2 }
}
\ProvideDocumentCommand { \cpastmaxprevalence } { m O{} } {
  \__@@_op_sup_sub:cnn { csymbpastmaxprevalence } { #1 } { #2 }
}
\ProvideDocumentCommand { \cbind } { m m } {
  \__@@_op_sup_sub:cnn { csymbbind } { #1 } { #2 }
}
%% 
%%
%% End of file `temporal-logic.sty'.
